// POPOVERS
// --------

.popover {
  position: absolute;
  top: 0;
  left: 0;
  z-index: @zindexPopover;
  display: none;
  padding: 5px;
  &.above { margin-top: -20px; } // @brickrouge: we use "above" instead of "top", and a wider offset
  &.after	{ margin-left: 20px; } // @brickrouge: we use "after" instead of "right", and a wider offset
  &.below { margin-top: 20px; } // @brickrouge: we use "below" instead of "bottom", and a wider offset
  &.before { margin-left: -20px; } // @brickrouge: we use "before" instead of "right", and a wider offset
  &.above .arrow { #popoverArrow > .top(); }
  &.after .arrow { #popoverArrow > .right(); }
  &.below .arrow { #popoverArrow > .bottom(); }
  &.before .arrow { #popoverArrow > .left(); }
  .arrow {
    position: absolute;
    width: 0;
    height: 0;
  }
  .inner {
    padding: 3px;
    width: 280px;
    overflow: hidden;
    background: @black; // has to be full background declaration for IE fallback
    background: rgba(0,0,0,.8);
    .border-radius(6px);
    .box-shadow(0 3px 7px rgba(0,0,0,0.3));

    & > :first-child { // @brickrouge: because the number of elements is variable
      border-top-left-radius: 3px;
      border-top-right-radius: 3px;
    }

    & > :last-child { // @brickrouge: because the number of elements is variable
      border-bottom-left-radius: 3px;
      border-bottom-right-radius: 3px;
    }
  }
  &.fit-content .inner { // @brickrouge: because sometimes the content is no simple text
    width: auto;
  }
  .title {
    padding: 9px 15px;
    line-height: 1;
    background-color: #f5f5f5;
    border-bottom:1px solid #eee;
    margin: 0; // @brickrouge: because we use margins around h3
  }
  .content {
    padding: 14px;
    background-color: @white;
    .background-clip(padding-box);
    p, ul, ol {
      margin-bottom: 0;
    }

    & > :first-child { // @brickrouge
      margin-top: 0;
    }

    & > :last-child { // @brickrouge
      margin-bottom: 0;
    }
  }
	.actions { // @brickrouge: our popovers can have actions
		text-align: center;
		background-color: darken(@white, 4%);
		border-top: 1px solid @grayLight;
		
		button {
			margin: .6em 1ex;	
		}
	}
}

.popover.contrast { // @brickrouge: our popovers can have a contrasted color scheme
	
	&, input[type="text"], input[type="password"], select, textarea, .field > label {
		color: @white;
	}
	
	label {
		color: darken(@white, 20%);
	}
	
	.inner {
		background: @black;
		background: rgba(0, 0, 0, 0.8);
		background: -moz-linear-gradient(top, rgba(0, 0, 0, 0.8), @black);
		background: -webkit-linear-gradient(top, rgba(0, 0, 0, 0.8), @black);
		background: linear-gradient(top, rgba(0, 0, 0, 0.8), @black);
		border: 3px solid @black;
		padding: 0;
	}

	.title {
		background: lighten(@black, 13%);
		background: -moz-linear-gradient(top, transparent, @black);
		background: -webkit-linear-gradient(top, transparent, @black);
		background: linear-gradient(top , transparent, @black);
		border-bottom-color: @black;
	}

	.content {
		background: transparent;
	}

	.actions {
		background: lighten(@black, 13%);
		background: -moz-linear-gradient(top, lighten(@black, 13%), transparent);
		background: -webkit-linear-gradient(top, lighten(@black, 13%), transparent);
		background: linear-gradient(top, #222, transparent);
		border-top-color: lighten(@black, 13%);
	}
	
	input[type="text"], select, textarea {
		background: lighten(@black, 20%);
		background: -webkit-linear-gradient(top, lighten(@black, 13%) 5%, lighten(@black, 20%));
		background: -moz-linear-gradient(top, lighten(@black, 13%) 5%, lighten(@black, 20%));
		background: linear-gradient(top, lighten(@black, 13%) 5%, lighten(@black, 20%));
		border-color: lighten(@black, 27%);
		box-shadow: 0 0 1px @black inset;
	}
	
	.add-on {
		background: lighten(@black, 20%);
		.buttonBackground(lighten(@black, 20%), lighten(@black, 13%));
		border-color: lighten(@black, 27%);
		text-shadow: -1px -1px @black;
		box-shadow: 0 0 1px @black inset;
	}
}
