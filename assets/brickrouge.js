var $jscomp={scope:{},getGlobal:function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol);$jscomp.initSymbol=function(){}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return"jscomp_symbol_"+a+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();if(a[$jscomp.global.Symbol.iterator])return a[$jscomp.global.Symbol.iterator]();var b=0;return{next:function(){return b==a.length?{done:!0}:{done:!1,value:a[b++]}}}};
$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
$jscomp.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var e in b)if($jscomp.global.Object.defineProperties){var d=$jscomp.global.Object.getOwnPropertyDescriptor(b,e);d&&$jscomp.global.Object.defineProperty(a,e,d)}else a[e]=b[e]};$jscomp.array=$jscomp.array||{};$jscomp.array.done_=function(){return{done:!0,value:void 0}};
$jscomp.array.arrayIterator_=function(a,b){a instanceof String&&(a=String(a));var c=0;$jscomp.initSymbol();$jscomp.initSymbolIterator();var e={},d=(e.next=function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=$jscomp.array.done_;return $jscomp.array.done_()},e[Symbol.iterator]=function(){return d},e);return d};
$jscomp.array.findInternal_=function(a,b,c){a instanceof String&&(a=String(a));for(var e=a.length,d=0;d<e;d++){var f=a[d];if(b.call(c,f,d,a))return{i:d,v:f}}return{i:-1,v:void 0}};
$jscomp.array.from=function(a,b,c){b=void 0===b?function(a){return a}:b;var e=[];$jscomp.initSymbol();$jscomp.initSymbolIterator();if(a[Symbol.iterator]){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=a[Symbol.iterator]();for(var d;!(d=a.next()).done;)e.push(b.call(c,d.value))}else{d=a.length;for(var f=0;f<d;f++)e.push(b.call(c,a[f]))}return e};$jscomp.array.of=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return $jscomp.array.from(b)};
$jscomp.array.entries=function(){return $jscomp.array.arrayIterator_(this,function(a,b){return[a,b]})};$jscomp.array.entries$install=function(){Array.prototype.entries||(Array.prototype.entries=$jscomp.array.entries)};$jscomp.array.keys=function(){return $jscomp.array.arrayIterator_(this,function(a){return a})};$jscomp.array.keys$install=function(){Array.prototype.keys||(Array.prototype.keys=$jscomp.array.keys)};$jscomp.array.values=function(){return $jscomp.array.arrayIterator_(this,function(a,b){return b})};
$jscomp.array.values$install=function(){Array.prototype.values||(Array.prototype.values=$jscomp.array.values)};$jscomp.array.copyWithin=function(a,b,c){var e=this.length;a=Number(a);b=Number(b);c=Number(null!=c?c:e);if(a<b)for(c=Math.min(c,e);b<c;)b in this?this[a++]=this[b++]:(delete this[a++],b++);else for(c=Math.min(c,e+b-a),a+=c-b;c>b;)--c in this?this[--a]=this[c]:delete this[a];return this};$jscomp.array.copyWithin$install=function(){Array.prototype.copyWithin||(Array.prototype.copyWithin=$jscomp.array.copyWithin)};
$jscomp.array.fill=function(a,b,c){null!=c&&a.length||(c=this.length||0);c=Number(c);for(b=Number((void 0===b?0:b)||0);b<c;b++)this[b]=a;return this};$jscomp.array.fill$install=function(){Array.prototype.fill||(Array.prototype.fill=$jscomp.array.fill)};$jscomp.array.find=function(a,b){return $jscomp.array.findInternal_(this,a,b).v};$jscomp.array.find$install=function(){Array.prototype.find||(Array.prototype.find=$jscomp.array.find)};
$jscomp.array.findIndex=function(a,b){return $jscomp.array.findInternal_(this,a,b).i};$jscomp.array.findIndex$install=function(){Array.prototype.findIndex||(Array.prototype.findIndex=$jscomp.array.findIndex)};$jscomp.Map=function(a){a=void 0===a?[]:a;this.data_={};this.head_=$jscomp.Map.createHead_();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())b=b.value,this.set(b[0],b[1])}};
$jscomp.Map.checkBrowserConformance_=function(){var a=$jscomp.global.Map;if(!a||!a.prototype.entries||!Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var e=c.entries(),d=e.next();if(d.done||d.value[0]!=b||"s"!=d.value[1])return!1;d=e.next();return d.done||4!=d.value[0].x||"t"!=d.value[1]||!e.next().done?!1:!0}catch(f){return!1}};
$jscomp.Map.createHead_=function(){var a={};return a.previous=a.next=a.head=a};$jscomp.Map.getId_=function(a){if(!(a instanceof Object))return String(a);$jscomp.Map.key_ in a||a instanceof Object&&Object.isExtensible&&Object.isExtensible(a)&&$jscomp.Map.defineProperty_(a,$jscomp.Map.key_,++$jscomp.Map.index_);return $jscomp.Map.key_ in a?a[$jscomp.Map.key_]:" "+a};
$jscomp.Map.prototype.set=function(a,b){var c=this.maybeGetEntry_(a),e=c.id,d=c.list,c=c.entry;d||(d=this.data_[e]=[]);c?c.value=b:(c={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},d.push(c),this.head_.previous.next=c,this.head_.previous=c,this.size++);return this};
$jscomp.Map.prototype["delete"]=function(a){var b=this.maybeGetEntry_(a);a=b.id;var c=b.list,e=b.index;return(b=b.entry)&&c?(c.splice(e,1),c.length||delete this.data_[a],b.previous.next=b.next,b.next.previous=b.previous,b.head=null,this.size--,!0):!1};$jscomp.Map.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=$jscomp.Map.createHead_();this.size=0};$jscomp.Map.prototype.has=function(a){return!!this.maybeGetEntry_(a).entry};
$jscomp.Map.prototype.get=function(a){return(a=this.maybeGetEntry_(a).entry)&&a.value};$jscomp.Map.prototype.maybeGetEntry_=function(a){var b=$jscomp.Map.getId_(a),c=this.data_[b];if(c)for(var e=0;e<c.length;e++){var d=c[e];if(a!==a&&d.key!==d.key||a===d.key)return{id:b,list:c,index:e,entry:d}}return{id:b,list:c,index:-1,entry:void 0}};$jscomp.Map.prototype.entries=function(){return this.iter_(function(a){return[a.key,a.value]})};$jscomp.Map.prototype.keys=function(){return this.iter_(function(a){return a.key})};
$jscomp.Map.prototype.values=function(){return this.iter_(function(a){return a.value})};$jscomp.Map.prototype.forEach=function(a,b){for(var c=$jscomp.makeIterator(this.entries()),e=c.next();!e.done;e=c.next())e=e.value,a.call(b,e[1],e[0],this)};
$jscomp.Map.prototype.iter_=function(a){var b=this,c=this.head_;$jscomp.initSymbol();$jscomp.initSymbolIterator();var e={};return e.next=function(){if(c){for(;c.head!=b.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:a(c)};c=null}return{done:!0,value:void 0}},e[Symbol.iterator]=function(){return this},e};$jscomp.Map.index_=0;$jscomp.Map.defineProperty_=Object.defineProperty?function(a,b,c){Object.defineProperty(a,b,{value:String(c)})}:function(a,b,c){a[b]=String(c)};
$jscomp.Map.Entry_=function(){};$jscomp.Map.ASSUME_NO_NATIVE=!1;$jscomp.Map$install=function(){$jscomp.initSymbol();$jscomp.initSymbolIterator();!$jscomp.Map.ASSUME_NO_NATIVE&&$jscomp.Map.checkBrowserConformance_()?$jscomp.Map=$jscomp.global.Map:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map.prototype[Symbol.iterator]=$jscomp.Map.prototype.entries,$jscomp.initSymbol(),$jscomp.Map.key_=Symbol("map-id-key"));$jscomp.Map$install=function(){}};$jscomp.math=$jscomp.math||{};
$jscomp.math.clz32=function(a){a=Number(a)>>>0;if(0===a)return 32;var b=0;0===(a&4294901760)&&(a<<=16,b+=16);0===(a&4278190080)&&(a<<=8,b+=8);0===(a&4026531840)&&(a<<=4,b+=4);0===(a&3221225472)&&(a<<=2,b+=2);0===(a&2147483648)&&b++;return b};$jscomp.math.imul=function(a,b){a=Number(a);b=Number(b);var c=a&65535,e=b&65535;return c*e+((a>>>16&65535)*e+c*(b>>>16&65535)<<16>>>0)|0};$jscomp.math.sign=function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1};
$jscomp.math.log10=function(a){return Math.log(a)/Math.LN10};$jscomp.math.log2=function(a){return Math.log(a)/Math.LN2};$jscomp.math.log1p=function(a){a=Number(a);if(.25>a&&-.25<a){for(var b=a,c=1,e=a,d=0,f=1;d!=e;)b*=a,f*=-1,e=(d=e)+f*b/++c;return e}return Math.log(1+a)};$jscomp.math.expm1=function(a){a=Number(a);if(.25>a&&-.25<a){for(var b=a,c=1,e=a,d=0;d!=e;)b*=a/++c,e=(d=e)+b;return e}return Math.exp(a)-1};$jscomp.math.cosh=function(a){a=Number(a);return(Math.exp(a)+Math.exp(-a))/2};
$jscomp.math.sinh=function(a){a=Number(a);return 0===a?a:(Math.exp(a)-Math.exp(-a))/2};$jscomp.math.tanh=function(a){a=Number(a);if(0===a)return a;var b=Math.exp(2*-Math.abs(a)),b=(1-b)/(1+b);return 0>a?-b:b};$jscomp.math.acosh=function(a){a=Number(a);return Math.log(a+Math.sqrt(a*a-1))};$jscomp.math.asinh=function(a){a=Number(a);if(0===a)return a;var b=Math.log(Math.abs(a)+Math.sqrt(a*a+1));return 0>a?-b:b};
$jscomp.math.atanh=function(a){a=Number(a);return($jscomp.math.log1p(a)-$jscomp.math.log1p(-a))/2};
$jscomp.math.hypot=function(a,b,c){for(var e=[],d=2;d<arguments.length;++d)e[d-2]=arguments[d];a=Number(a);b=Number(b);for(var f=Math.max(Math.abs(a),Math.abs(b)),g=$jscomp.makeIterator(e),d=g.next();!d.done;d=g.next())f=Math.max(f,Math.abs(d.value));if(1E100<f||1E-100>f){a/=f;b/=f;g=a*a+b*b;e=$jscomp.makeIterator(e);for(d=e.next();!d.done;d=e.next())d=d.value,d=Number(d)/f,g+=d*d;return Math.sqrt(g)*f}f=a*a+b*b;e=$jscomp.makeIterator(e);for(d=e.next();!d.done;d=e.next())d=d.value,d=Number(d),f+=
d*d;return Math.sqrt(f)};$jscomp.math.trunc=function(a){a=Number(a);if(isNaN(a)||Infinity===a||-Infinity===a||0===a)return a;var b=Math.floor(Math.abs(a));return 0>a?-b:b};$jscomp.math.cbrt=function(a){if(0===a)return a;a=Number(a);var b=Math.pow(Math.abs(a),1/3);return 0>a?-b:b};$jscomp.number=$jscomp.number||{};$jscomp.number.isFinite=function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a};
$jscomp.number.isInteger=function(a){return $jscomp.number.isFinite(a)?a===Math.floor(a):!1};$jscomp.number.isNaN=function(a){return"number"===typeof a&&isNaN(a)};$jscomp.number.isSafeInteger=function(a){return $jscomp.number.isInteger(a)&&Math.abs(a)<=$jscomp.number.MAX_SAFE_INTEGER};$jscomp.number.EPSILON=Math.pow(2,-52);$jscomp.number.MAX_SAFE_INTEGER=9007199254740991;$jscomp.number.MIN_SAFE_INTEGER=-9007199254740991;$jscomp.object=$jscomp.object||{};
$jscomp.object.assign=function(a,b){for(var c=[],e=1;e<arguments.length;++e)c[e-1]=arguments[e];c=$jscomp.makeIterator(c);for(e=c.next();!e.done;e=c.next())if(e=e.value)for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d]);return a};$jscomp.object.is=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};$jscomp.Set=function(a){a=void 0===a?[]:a;this.map_=new $jscomp.Map;if(a){a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())this.add(b.value)}this.size=this.map_.size};
$jscomp.Set.checkBrowserConformance_=function(){var a=$jscomp.global.Set;if(!a||!a.prototype.entries||!Object.seal)return!1;var b=Object.seal({x:4}),a=new a($jscomp.makeIterator([b]));if(a.has(b)||1!=a.size||a.add(b)!=a||1!=a.size||a.add({x:4})!=a||2!=a.size)return!1;var a=a.entries(),c=a.next();if(c.done||c.value[0]!=b||c.value[1]!=b)return!1;c=a.next();return c.done||c.value[0]==b||4!=c.value[0].x||c.value[1]!=c.value[0]?!1:a.next().done};
$jscomp.Set.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};$jscomp.Set.prototype["delete"]=function(a){a=this.map_["delete"](a);this.size=this.map_.size;return a};$jscomp.Set.prototype.clear=function(){this.map_.clear();this.size=0};$jscomp.Set.prototype.has=function(a){return this.map_.has(a)};$jscomp.Set.prototype.entries=function(){return this.map_.entries()};$jscomp.Set.prototype.values=function(){return this.map_.values()};
$jscomp.Set.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(e){return a.call(b,e,e,c)})};$jscomp.Set.ASSUME_NO_NATIVE=!1;$jscomp.Set$install=function(){!$jscomp.Set.ASSUME_NO_NATIVE&&$jscomp.Set.checkBrowserConformance_()?$jscomp.Set=$jscomp.global.Set:($jscomp.Map$install(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Set.prototype[Symbol.iterator]=$jscomp.Set.prototype.values);$jscomp.Set$install=function(){}};$jscomp.string=$jscomp.string||{};
$jscomp.string.noRegExp_=function(a,b){if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");};
$jscomp.string.fromCodePoint=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];for(var c="",b=$jscomp.makeIterator(b),e=b.next();!e.done;e=b.next()){e=e.value;e=+e;if(0>e||1114111<e||e!==Math.floor(e))throw new RangeError("invalid_code_point "+e);65535>=e?c+=String.fromCharCode(e):(e-=65536,c+=String.fromCharCode(e>>>10&1023|55296),c+=String.fromCharCode(e&1023|56320))}return c};
$jscomp.string.repeat=function(a){var b=this.toString();if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var c="";a;)if(a&1&&(c+=b),a>>>=1)b+=b;return c};$jscomp.string.repeat$install=function(){String.prototype.repeat||(String.prototype.repeat=$jscomp.string.repeat)};
$jscomp.string.codePointAt=function(a){var b=this.toString(),c=b.length;a=Number(a)||0;if(0<=a&&a<c){a|=0;var e=b.charCodeAt(a);if(55296>e||56319<e||a+1===c)return e;a=b.charCodeAt(a+1);return 56320>a||57343<a?e:1024*(e-55296)+a+9216}};$jscomp.string.codePointAt$install=function(){String.prototype.codePointAt||(String.prototype.codePointAt=$jscomp.string.codePointAt)};
$jscomp.string.includes=function(a,b){b=void 0===b?0:b;$jscomp.string.noRegExp_(a,"includes");return-1!==this.toString().indexOf(a,b)};$jscomp.string.includes$install=function(){String.prototype.includes||(String.prototype.includes=$jscomp.string.includes)};
$jscomp.string.startsWith=function(a,b){b=void 0===b?0:b;$jscomp.string.noRegExp_(a,"startsWith");var c=this.toString();a+="";for(var e=c.length,d=a.length,f=Math.max(0,Math.min(b|0,c.length)),g=0;g<d&&f<e;)if(c[f++]!=a[g++])return!1;return g>=d};$jscomp.string.startsWith$install=function(){String.prototype.startsWith||(String.prototype.startsWith=$jscomp.string.startsWith)};
$jscomp.string.endsWith=function(a,b){$jscomp.string.noRegExp_(a,"endsWith");var c=this.toString();a+="";void 0===b&&(b=c.length);for(var e=Math.max(0,Math.min(b|0,c.length)),d=a.length;0<d&&0<e;)if(c[--e]!=a[--d])return!1;return 0>=d};$jscomp.string.endsWith$install=function(){String.prototype.endsWith||(String.prototype.endsWith=$jscomp.string.endsWith)};
(function(a){function b(e){if(c[e])return c[e].exports;var d=c[e]={exports:{},id:e,loaded:!1};a[e].call(d.exports,d,d.exports,b);d.loaded=!0;return d.exports}var c={};b.m=a;b.c=c;b.p="";return b(0)})([function(a,b,c){var e,d;!(e=[c(2),c(17),c(11),c(12),c(14),c(15),c(16),c(9),c(1),c(18),c(19),c(20),c(21),c(22),c(23),c(24)],d=function(a){Element.Properties.widget={get:function(){return a.from(this)}};Element.Properties.dataset={get:function(){return a.Dataset.from(this)}};document.addEventListener("DOMContentLoaded",
a.run)}.apply(b,e),void 0!==d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(2),c(9)],d=function(a){var c=[];document.body.addDelegatedEventListener('[rel="popover"]',"mouseover",function(b,e){var d;d=a.uidOf(e);var h;d in c?d=c[d]:(h=a.Dataset.from(e),h.anchor=e,d=c[d]=a.Popover.from(h));d.show()});document.body.addDelegatedEventListener('[rel="popover"]',"mouseout",function(b,e){var d=c[a.uidOf(e)];d&&d.hide()})}.apply(b,e),void 0!==d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(3)],d=function(){return window.Brickrouge}.apply(b,
e),void 0!==d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(4),c(5),c(6),c(7),c(8)],d=function(a,c){Object.assign(a,c.prototype);Object.defineProperty(a,"Subject",{value:c});return window.Brickrouge=a}.apply(b,e),void 0!==d&&(a.exports=d))},function(a,b,c){var e;!(e=function(){return{}}.call(b,c,b,a),void 0!==e&&(a.exports=e))},function(a,b){function c(a){if("symbol"!==typeof a)throw Error("Event name is not a symbol");}function e(a,c){f in a||(a[f]=[]);var b=a[f];if(!c)return b;c in b||(b[c]=[]);
return b[c]}function d(){}$jscomp.initSymbol();var f=Symbol("Subject observers");$jscomp.initSymbol();var g=Symbol("Subject event name");d.prototype={observe:function(a,b){if("function"!==typeof a||!(g in a))throw Error("Expecting an event instance, got: "+a);var d=a[g];c(d);d=e(this,d);if(-1!==d.indexOf(b))throw Error("Observer already attached",a);d.push(b);return this},unobserve:function(a){for(var c=e(this,null),b=$jscomp.makeIterator(Object.getOwnPropertySymbols(c)),d=b.next();!d.done;d=b.next()){var d=
c[d.value],g=d.indexOf(a);-1!==g&&d.splice(g,1)}return this},notify:function(a){if("object"!==typeof a||!(g in a.__proto__.constructor))throw Error("Expected an Event instance");var b=a.__proto__.constructor[g];c(b);for(var b=e(this,b),b=$jscomp.makeIterator(b),d=b.next();!d.done;d=b.next()){d=d.value;try{d.call(null,a)}catch(f){console.error(f)}}return this}};Object.defineProperty(d,"createEvent",{value:function(a){$jscomp.initSymbol();a[g]=Symbol("Event symbol");return a}});a&&(a.exports=d)},function(a,
b,c){var e,d;!(e=[c(4)],d=function(a){var b=0;a.uidOf=function(a){return a.uniqueNumber||(a.uniqueNumber=++b)};a.empty=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};a.camelCase=function(a){return String(a).replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()})};a.Dataset={from:function(b){var c={};b=$jscomp.makeIterator(b.attributes);for(var d=b.next();!d.done;d=b.next())d=d.value,d.name.match(/^data-/)&&(c[a.camelCase(d.name.substring(5))]=d.value);return c}}}.apply(b,e),void 0!==
d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(4),c(5)],d=function(a,b){function c(a){if(!(a in n))throw Error("There is no widget factory for type `"+a+"`");return n[a]}function d(a){return"object"==typeof a&&"getAttribute"in a&&!!a.getAttribute("brickrouge-is")}function e(b){return a.uidOf(b)in u}function h(a){a.setAttribute("brickrouge-invalid-is",a.getAttribute("brickrouge-is"));a.removeAttribute("brickrouge-is")}function m(b){var d=a.uidOf(b);if(d in u)return u[d];var e=b.getAttribute("brickrouge-is"),
g=null;if(!e)throw h(b),Error("The `brickrouge-is` attribute is not defined or empty.");try{var q=c(e),p;p=b.hasAttribute("brickrouge-options")?JSON.parse(b.getAttribute("brickrouge-options")):a.Dataset.from(b);g=q(b,p)}catch(n){console.error(n)}if(!g)throw h(b),Error("The widget factory `"+e+"` failed to build the widget.");b.setAttribute("brickrouge-built","");try{a.notify(new A(g))}catch(n){console.error(n)}return u[d]=g}function k(b){var c=[];b=b||document.body;if(-1===y.indexOf(b)){y.push(b);
if(d(b)&&!e(b))try{c.push(m(b))}catch(g){console.error(g)}for(var l=b.querySelectorAll("[brickrouge-is]:not([brickrouge-built])"),q=$jscomp.makeIterator(l),n=q.next();!n.done;n=q.next()){n=n.value;try{c.push(m(n))}catch(g){console.error(g)}}y.splice(y.indexOf(b),1);a.notify(new B(b,l,c))}}function r(){function a(b){(new b(function(a){var b=[];a.forEach(function(a){Array.prototype.forEach.call(a.addedNodes,function(a){a instanceof Element&&-1===b.indexOf(a)&&b.push(a)})});b.length&&b.forEach(k)})).observe(document.body,
{childList:!0,subtree:!0})}function b(){var a=document.body.innerHTML;setInterval(function(){a!=document.body.innerHTML&&(a=document.body.innerHTML,k(document.body))},1E3)}var c=MutationObserver||WebkitMutationObserver;c?a(c):b()}function q(a,b){n[a]=b}var n=[],u=[],y=[],D=b.createEvent(function(){}),A=b.createEvent(function(a){this.widget=a}),B=b.createEvent(function(a,b,c){this.fragment=a;this.elements=b;this.widgets=c});Object.defineProperties(a,{EVENT_UPDATE:{value:B},EVENT_RUNNING:{value:D},
EVENT_WIDGET:{value:A},isWidget:{value:d},isBuilt:{value:e},register:{value:q},registered:{value:c},from:{value:m},run:{value:function(){r();k(document.body);a.notify(new D)}}});var E={};Object.defineProperties(E,{IS_ATTRIBUTE:{value:"brickrouge-is"},BUILT_ATTRIBUTE:{value:"brickrouge-built"},OPTIONS_ATTRIBUTE:{value:"brickrouge-options"},SELECTOR:{value:"[brickrouge-is]"},isWidget:{value:d},isBuilt:{value:e},register:{value:q},registered:{value:c},from:{value:m}});return a.Widget=E}.apply(b,e),void 0!==
d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(4),c(7)],d=function(a,b){a.clone=function(a){var c=b.BUILT_ATTRIBUTE;a=a.cloneNode(!0);a.removeAttribute(c);Array.prototype.forEach.call(a.querySelectorAll("["+c+"]"),function(a){a.removeAttribute(c)});return a}}.apply(b,e),void 0!==d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(2),c(10),c(5)],d=function(a,b,c){function d(){Object.forEach(h,function(a){a.isVisible()&&m.isElementVisible(a.element)&&a.reposition(!0)})}var e=c.createEvent(function(a,
b,c){this.action=a;this.popover=b;this.event=c}),h=[],m=new b,k=new Class({Implements:[a.Subject],options:{anchor:null,animate:!1,popoverClass:null,placement:null,visible:!1,fitContent:!1,loveContent:!1,iframe:null},initialize:function(a,b){var c=this;this.element=a;Object.assign(this.options,b);this.arrow=this.element.querySelector(".popover-arrow");this.actions=this.element.querySelector(".popover-actions");this.repositionCallback=this.reposition.bind(this,!1);this.quickRepositionCallback=this.reposition.bind(this,
!0);h.push(this);a=this.element;b=this.options;this.iframe=b.iframe;b.anchor&&this.attachAnchor(b.anchor);this.tween=null;b.animate&&(this.tween=new Fx.Tween(a,{property:"opacity",link:"cancel",duration:"short"}));b.fitContent&&a.classList.add("fit-content");b.popoverClass&&a.classList.add(b.popoverClass);a.addDelegatedEventListener(".popover-actions [data-action]","click",function(a,b){c.notify(new e(b.getAttribute("data-action"),c,a))});b.visible&&this.show()},attachAnchor:function(a){this.anchor=
document.id(a);this.anchor||(this.anchor=document.body.querySelector(a));this.reposition(!0)},changePlacement:function(a){var b={left:"popover-left",right:"popover-right",top:"popover-top",bottom:"popover-bottom"},c=this.element;Object.forEach(b,function(a){c.classList.remove(a)});c.classList.add(b[a])},show:function(){this.element.setStyles({display:"block",visibility:"hidden"});this.iframe&&document.id(this.iframe.contentWindow).addEvents({load:this.quickRepositionCallback,resize:this.quickRepositionCallback,
scroll:this.quickRepositionCallback});document.body.appendChild(this.element);this.reposition(!0);this.options.animate?(this.tween.set(0),this.element.setStyle("visibility","visible"),this.tween.start(1)):this.element.setStyle("visibility","visible")},hide:function(){var a=this,b=function(){a.element.setStyle("display","");a.element.remove()};if(this.iframe){var c=document.id(this.iframe.contentWindow);c.removeEvent("load",this.quickRepositionCallback);c.removeEvent("resize",this.quickRepositionCallback);
c.removeEvent("scroll",this.quickRepositionCallback)}this.options.animate?this.tween.start(0).chain(b):b()},isVisible:function(){return this.element.parentNode&&"visible"==this.element.getStyle("visibility")&&"none"!=this.element.getStyle("display")},computeAnchorBox:function(){var a=this.anchor,b,c=this.iframe,d,e,g,l,p;c?(b=c.getCoordinates(),d=c.contentDocument.documentElement,c=a.offsetLeft,l=a.offsetTop,p=a.offsetWidth,a=a.offsetHeight,e=d.clientHeight,g=d.scrollTop,l-=g,0>l&&(a+=l),l=Math.max(l,
0),a=Math.min(a,e),e=d.clientWidth,d=d.scrollLeft,c-=d,0>c&&(p+=c),c=Math.max(c,0),p=Math.min(p,e),c+=b.left,l+=b.top):(b=a.getCoordinates(),c=b.left,l=b.top,a=b.height,p=b.width);return{x:c,y:l,w:p,h:a}},computeBestPlacement:function(a,b,c){var d=document.body.parentNode.scrollWidth,e=a.x,g=a.y;a=a.w;var l;l=this.options.placement;switch(l){case "right":if(d-(e+1+a)>b+40)return l;break;case "left":if(e+1>b+40)return l;break;case "top":if(g+1>c+40)return l;break;case "bottom":return l}return d-(e+
1+a)>b+40?"right":e+1>b+40?"left":g+1>c+40?"top":"bottom"},reposition:function(a){if(this.anchor){void 0===a&&(a="visible"!=this.element.getStyle("visibility"));var b=this.actions,c,d,e,g,l,p,f,t=this.element.getSize(),h=t.x,t=t.y,k,w,v=m.getCoordinates(),x=v.left,z=v.top,C=v.width,F=v.height,v={top:null,left:null};c=this.computeAnchorBox();d=c.x;e=c.y;g=c.w;l=c.h;p=d+g/2-1;f=e+l/2-1;w=this.computeBestPlacement(c,h,t);this.changePlacement(w);"left"==w||"right"==w?(k=Math.round(e+(l-t)/2-1),c=("left"==
w?d-h+1:d+g-1).limit(x+20-1,x+C-(h+20)-1),k=k.limit(z+20-1,z+F-(t+20)-1)):(c=Math.round(d+(g-h)/2-1),k="top"==w?e-t+1:e+l-1,c=c.limit(x+20-1,x+C-(h+20)-1));40<t&&("left"==w||"right"==w?(h=e+l/2-1-k,h=Math.min(t-(b?b.getSize().y:20)-10,h),h=Math.max(20,h),h+k-1!=f&&(k-=k+h-f),v.top=h):(b=(d+g/2-1-c).limit(20,h-20),b+h-1!=p&&(c-=c+b-p),v.left=b));c=Math.floor(Math.max(50,c));k=Math.floor(Math.max(50,k));a?(this.element.setStyles({left:c,top:k}),this.arrow.setStyles(v)):(this.element.morph({left:c,top:k}),
this.arrow.morph(v))}}});Object.defineProperties(k,{EVENT_ACTION:{value:e},from:{value:function(a){var b;b=a.title;var c=a.content,d=a.actions,e=new Element("div.popover-inner");b&&e.adopt(new Element("h3.popover-title",{html:b}));"string"==typeOf(c)?e.adopt(new Element("div.popover-content",{html:c})):(e.adopt((new Element("div.popover-content")).adopt(c)),void 0===a.fitContent&&(a.fitContent=!0));"boolean"==d&&(d=[new Element('button.btn.btn-secondary.btn-cancel[data-action="cancel"]',{html:Locale.get("Popover.cancel")||
"Cancel"}),new Element('button.btn.btn-primary[data-action="ok"]',{html:Locale.get("Popover.ok")||"Ok"})]);d&&e.adopt((new Element("div.popover-actions")).adopt(d));b=(new Element("div.popover")).adopt([new Element("div.popover-arrow"),e]);return new k(b,a)}}});a.register("Popover",function(a,b){return new k(a,b)});a.observe(a.EVENT_RUNNING,function(){window.addEventListener("load",d);window.addEventListener("resize",d);window.addEventListener("scroll",d)});return a.Popover=k}.apply(b,e),void 0!==
d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(2)],d=function(a){function b(){}b.prototype.getCoordinates=function(){var a=document.documentElement.scrollLeft||window.pageXOffset,b=document.documentElement.scrollTop||window.pageYOffset,c=document.documentElement.clientWidth,d=document.documentElement.clientHeight;return{left:a,top:b,width:c,height:d,x1:a,y1:b,x2:a+c-1,y2:b+d-1}};b.prototype.isElementVisible=function(a){var b=this.getCoordinates(),c=a.getCoordinates();a=b.y1;var b=b.y2,d=c.top,
c=c.height;return d>=a&&d<b||d<a&&d+c-1>a};a.viewport=new b;return b}.apply(b,e),void 0!==d&&(a.exports=d))},function(a,b){Object.forEach=Object.forEach||function(a,b,d){for(var f in a)a.hasOwnProperty(f)&&b.call(d,a[f],f,a)};!function(a){a.getChildren=a.getChildren||function(a){for(var b=[],c=this.firstElementChild;c;)(!a||a&&c.matches(a))&&b.push(c),c=c.nextElementSibling;return b};a.addDelegatedEventListener=function(a,b,c,g){this.addEventListener(b,function(b){var d=b.target,g=d.closest(a);if(!g)return null;
c(b,g,d)},g)}}(Element.prototype);!function(a){a.forEach=a.forEach||function(a,b){Array.prototype.forEach.call(this,a,b)}}(NodeList.prototype)},function(a,b,c){var e,d;!(e=[c(2),c(13)],d=function(a,b){function c(a){var b=[],d=[];null===h&&(h="undefined"!==typeof brickrouge_cached_css_assets?brickrouge_cached_css_assets:[],document.head.querySelectorAll('link[href][type="text/css"]').forEach(function(a){h.push(a.getAttribute("href"))}));null===m&&(m="undefined"!==typeof brickrouge_cached_js_assets?
brickrouge_cached_js_assets:[],document.html.querySelectorAll("script[src]").forEach(function(a){m.push(a.getAttribute("src"))}));a.css.forEach(function(a){-1===h.indexOf(a)&&b.push(a)});a.js.forEach(function(a){-1===m.indexOf(a)&&d.push(a)});return{css:b,js:d}}var d=b.StyleSheetPromise,e=b.JavaScriptPromise,h=null,m=null;a.updateAssets=function(a,b,g){a=c(a);var f=[];a.css.length&&f.push(d.all(a.css));a.js.length&&f.push(e.all(a.js));f.length?Promise.all(f).then(b)["catch"](g||function(a){console.error("The following promise were rejected:",
a)}):b()}}.apply(b,e),void 0!==d&&(a.exports=d))},function(a,b){function c(a){return function(b,c){var d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("href",a);d.onload=function(){return b(a)};d.onerror=function(){return c(a)};document.head.appendChild(d)}}function e(a){return function(b,c){var d=document.createElement("script");d.setAttribute("src",a);d.onload=function(){return b(a)};d.onerror=function(){return c(a)};document.head.appendChild(d)}}
function d(a){return new Promise(c(a))}function f(a){return new Promise(e(a))}d.createExecutor=c;f.createExecutor=e;d.all=function(a){var b=[];a.forEach(function(a){return b.push(new d(a))});return Promise.all(b)};f.all=function(a){var b=[];a.forEach(function(a){return b.push(new f(a))});return Promise.all(b)};"undefined"!==typeof b&&(b.StyleSheetPromise=d,b.JavaScriptPromise=f)},function(a,b,c){var e,d;!(e=[c(2)],d=function(a){function b(){this.busyNest=0}b.prototype.startBusy=function(){1!=++this.busyNest&&
this.element.classList.add("busy")};b.prototype.finishBusy=function(){--this.busyNest||this.element.classList.remove("busy")};a.Utils={Busy:b}}.apply(b,e),void 0!==d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(2)],d=function(a){document.body.addDelegatedEventListener('[data-dismiss="alert"]',"click",function(b,c){var d=c.closest(".alert"),e=c.closest("form");d&&d.remove();if(e){try{a.Form.from(e).clearAlert()}catch(h){}e.querySelectorAll(".has-danger").forEach(function(a){a.classList.remove("has-danger")})}})}.apply(b,
e),void 0!==d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(2),c(5)],d=function(a,b){var c=b.createEvent(function(){}),d=b.createEvent(function(){}),e=b.createEvent(function(a){this.response=a}),h=b.createEvent(function(a,b){this.xhr=a;this.response=b}),m=b.createEvent(function(){}),k=new Class({Implements:[b],options:{url:null,useXHR:!1,replaceOnSuccess:!1},initialize:function(b,c){var d=this;this.element=b;Object.assign(this.options,c);r[a.uidOf(b)]=this;b.addEventListener("submit",function(a){d.isProcessingSubmit&&
(a.preventDefault(),d.submit())})},isProcessingSubmit:function(){var a=this.options;return a.useXHR||a.onRequest||a.onComplete||a.onFailure||a.onSuccess||a.replaceOnSuccess},alert:function(a,b){var c=this,d=a,e=this.element.querySelector(".alert-"+b)||(new Element(".alert.alert-"+b+".dismissible")).adopt(new Element('button.close[type="button"][data-dismiss="alert"]',{html:"\u00d7"}));"string"==typeOf(a)?a=[a]:"object"==typeOf(a)&&(a=[],Object.forEach(d,function(b,d){"__generic__"!==d&&c.addError(d);
b&&!0!==b&&a.push(b)}));a.length&&(a.forEach(function(a){e.appendChild(new Element("p",{html:a}))}),this.insertAlert(e))},insertAlert:function(a){var b=this.element;a.classList.contains("alert-success")&&this.options.replaceOnSuccess?(a.querySelector('[data-dismiss="alert"]').remove(),a.classList.add("dismissible"),a.inject(b,"before"),b.classList.add("hidden")):a.parentNode||a.inject(b,"top")},clearAlert:function(){var a=this.element;a.querySelectorAll(".alert.dismissible").forEach(function(a){a.remove()});
a.querySelectorAll(".has-danger").forEach(function(a){a.classList.remove("has-danger")})},addError:function(a){if(a=this.element.elements[a]){var b=a.closest(".form-group");b&&b.classList.add("has-danger");"collection"==typeOf(a)?(b=a[0].closest(".radio-group"))?b.classList.add("has-danger"):a.forEach(function(a){a.classList.add("has-danger")}):a.classList.add("has-danger")}},submit:function(){this.notify(new c);this.getOperation().send(this.element)},getOperation:function(){return this.operation?
this.operation:this.operation=new Request.JSON({url:this.options.url||this.element.action,method:this.element.getAttribute("method")||"GET",onRequest:this.request.bind(this),onComplete:this.complete.bind(this),onSuccess:this.success.bind(this),onFailure:this.failure.bind(this)})},request:function(){this.clearAlert();this.notify(new d)},complete:function(){this.notify(new m)},success:function(a){a.message&&this.alert(a.message,"success");this.notify(new e(a)).notify(new m)},failure:function(a){var b=
{};try{b=JSON.decode(a.responseText),b.errors&&this.alert(b.errors,"danger"),b.exception&&alert(b.exception)}catch(c){console&&console.error(c),alert(a.statusText)}this.notify(new h(a,b))}}),r=[];Object.defineProperties(k,{EVENT_SUBMIT:{value:c},EVENT_REQUEST:{value:d},EVENT_SUCCESS:{value:e},EVENT_COMPLETE:{value:m},from:{value:function(b){b=a.uidOf(b);if(b in r)return r[b];throw Error("No Brickrouge form is associated with this element");}}});return a.Form=k}.apply(b,e),void 0!==d&&(a.exports=d))},
function(a,b){!function(a){a.closest=a.closest||function(a){for(var b=this;b;){if(b.matches(a))return b;b=b.parentElement}return null};a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this)};a.matches=a.matches||a.matchesSelector||a.webkitMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;if(!a.matches)throw Error("Unable to implement Element.prototype.matches");}(Element.prototype)},function(a,b){function c(){document.body.querySelectorAll('[data-toggle="dropdown"]').forEach(function(a){a.parentNode.classList.remove("open")})}
function e(){var a=this.getAttribute("data-target")||this.getAttribute("href"),a=(a?document.getElementById(a):null)||this.parentNode,b;b=a.classList.contains("open");c();!b&&a.classList.toggle("open")}var d=null;document.body.addDelegatedEventListener('[data-toggle="dropdown"]:not(.disabled)',"click",function(a,b){a.preventDefault();a.stopPropagation();d=a;e.apply(b)});document.body.addEventListener("click",function(a){d===a?d=null:c()})},function(a,b,c){var e,d;!(e=[c(2),c(5)],d=function(a,b){var c=
b.createEvent(function(a){this.modal=a}),d=b.createEvent(function(a){this.modal=a}),e=b.createEvent(function(a){this.action=a}),h=new Class({Implements:[b],initialize:function(b,c){var d=this;this.element=b;b.addEventListener("click",function(a){a.target==b&&d.hide(d)});Object.assign(this.options,c);m[a.uidOf(b)]=this;b.addDelegatedEventListener("[data-action]","click",function(a,b){d.action(b.get("data-action"))})},show:function(){var b=this.element;b.classList.add("in");b.classList.remove("out");
b.classList.remove("hide");a.notify(new c(this))},hide:function(){var b=this.element;a.notify(new d(this));b.classList.remove("in");b.classList.add("out");b.classList.add("hide")},isHidden:function(){return this.element.classList.contains("hide")},toggle:function(){this.isHidden()?this.show():this.hide()},action:function(a){this.notify(new e(a))}}),m=[];Object.defineProperties(h,{EVENT_ACTION:{value:e},EVENT_SHOW:{value:c},EVENT_HIDE:{value:d},from:{value:function(b){var c=a.uidOf(b);return c in m?
m[c]:m[c]=new h(b)}}});return a.Modal=h}.apply(b,e),void 0!==d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(19)],d=function(a){document.body.addDelegatedEventListener('[data-toggle="modal"]',"click",function(b,c){var d=c.get("href").substring(1);if(d=document.getElementById(d))b.preventDefault(),b.stopPropagation(),a.from(d).toggle()});document.body.addDelegatedEventListener('[data-dismiss="modal"]',"click",function(b,c){var d=c.closest(".modal");if(d){b.preventDefault();b.stopPropagation();var e=
a.from("modal");e?e.hide():d.classList.add("hide")}})}.apply(b,e),void 0!==d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(2)],d=function(a){document.body.addDelegatedEventListener('[data-toggle="tab"]',"click",function(a,b){var c=b.getAttribute("href"),d;if(b.classList.contains("disabled"))a.preventDefault();else{"#"==c?(d=Array.prototype.indexOf.call(b.closest(".nav-tabs").querySelectorAll('[data-toggle="tab"]'),b),d=b.closest(".tabbable").querySelectorAll(".tab-content .tab-pane").item(d)):d=
document.id(c.substring(1));a.preventDefault();if(!d)throw Error("Invalid pane id: "+c);(c=b.closest(".nav-tabs").querySelector(".active"))&&c.classList.remove("active");b.closest(".nav-link").classList.add("active");(c=d.closest(".tab-content").querySelector(".active"))&&c.classList.remove("active");d.classList.add("active")}});a.observe(a.EVENT_UPDATE,function(a){a.fragment.querySelectorAll(".nav-tabs-fill").forEach(function(a){var b=a.querySelectorAll("a"),c=b[b.length-1],d=c.getCoordinates(a);
a=a.getSize().x-(d.left+d.width);var e=a/b.length/2|0;a-=e*b.length*2;c.setStyle("padding-right",c.getStyle("padding-right").toInt()+a);b.forEach(function(a){a.setStyle("padding-left",a.getStyle("padding-left").toInt()+e);a.setStyle("padding-right",a.getStyle("padding-right").toInt()+e)})})})}.apply(b,e),void 0!==d&&(a.exports=d))},function(a,b,c){var e,d;!(e=[c(2)],d=function(a){var b=[];a.Tooltip=new Class({Implements:[Options],options:{animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
trigger:"hover",title:"",delay:0,html:!0},initialize:function(a,b){this.setOptions(b);this.anchor=document.id(a);this.element=Elements.from(this.options.template).shift();this.setContent(a.get("data-tooltip-content"))},setContent:function(a){this.element.querySelector(".tooltip-inner")[this.options.html?"innerHTML":"innerText"]=a;"fade in top bottom left right".split(" ").forEach(this.element.classList.remove,this.element)},getPosition:function(a){var b=this.anchor,c=0,d=0,e=b.offsetWidth,g=b.offsetHeight;
a||(a=b.getPosition(),c=a.y,d=a.x);if("AREA"==b.tagName){var f=null,q=null,n=null,u=null,c=b.parentNode;a=document.body.querySelector('[usemap="#'+(c.id||c.name)+'"]').getPosition();c=a.y;d=a.x;b.coords.match(/\d+\s*,\s*\d+/g).each(function(a){var b=a.match(/(\d+)\s*,\s*(\d+)/);a=b[1];b=b[2];f=null===f?a:Math.min(f,a);q=null===q?a:Math.max(q,a);n=null===n?b:Math.min(n,b);u=null===u?b:Math.max(u,b)});c+=n;d+=f;e=q-f+1;g=u-n+1}return Object.append({},{y:c,x:d},{width:e,height:g})},show:function(){var a=
this.element,c=this.options,d=c.placement,e,f,k,r={};c.animation&&a.classList.add("fade");"function"==typeOf(d)&&(d=d.call(this,a,anchor));c=/in/.test(d);a.setStyles({top:0,left:0,display:"block"}).inject(c?this.anchor:document.body);f=a.offsetWidth;k=a.offsetHeight;e=this.getPosition(c);switch(c?d.split(" ")[1]:d){case "bottom":r={top:e.y+e.height,left:e.x+e.width/2-f/2};break;case "top":r={top:e.y-k,left:e.x+e.width/2-f/2};break;case "left":r={top:e.y+e.height/2-k/2,left:e.x-f};break;case "right":r=
{top:e.y+e.height/2-k/2,left:e.x+e.width}}b.unshift(this);a.setStyles(r).classList.add(d).classList.add("in")},hide:function(){var a=this.element;b.erase(this);a.classList.remove("in");a.dispose()}});a.Tooltip.hideAll=function(){Array.slice(b).each(function(a){a.hide()})};document.body.addEvent("mouseenter:relay([data-tooltip-content])",function(b,c){var d=c.retrieve("tooltip");d||(d=new a.Tooltip(c,a.extractDataset(c,"tooltip")),c.store("tooltip",d));d.show()});document.body.addEvent("mouseleave:relay([data-tooltip-content])",
function(a,b){try{b.retrieve("tooltip").hide()}catch(c){}})}.apply(b,e),void 0!==d&&(a.exports=d))},function(a,b,c){var e,d,f;!(d=[c(2)],e=function(a){var b=new Class({Implements:a.Utils.Busy,initialize:function(a,b){this.element=a;this.options=b}});a.register("SearchBox",function(a,c){return new b(a,c)})},f="function"===typeof e?e.apply(b,d):e,void 0!==f&&(a.exports=f))},function(a,b,c){var e,d;!(e=[c(2)],d=function(a){a.Carousel=new Class({Implements:[Options,Events],options:{autodots:!1,autoplay:!1,
delay:6E3,dotStyle:"default",method:"fade",positionPattern:null},initialize:function(a,b){this.element=a=document.id(a);this.setOptions(b);this.inner=a.querySelector(".carousel-inner");this.slides=this.inner.getChildren();this.limit=this.slides.length;this.position=0;this.timer=this.positionEl=null;this.options.method&&(this.setMethod(this.options.method),this.method.initialize&&this.method.initialize.apply(this));this.options.autodots&&this.setDots(this.slides.length);this.dots=a.querySelectorAll(".carousel-dots .dot");
this.dots.length||(this.dots=null);this.dots&&this.dots[0].classList.add("active");this.options.positionPattern&&!this.positionEl&&(this.positionEl=new Element("div.carousel-position"),this.element.appendChild(this.positionEl));a.addEvents({'click:relay([data-slide="prev"])':function(a){a.stop();this.prev()}.bind(this),'click:relay([data-slide="next"])':function(a){a.stop();this.next()}.bind(this),"click:relay([data-position])":function(a,b){a.stop();this.setPosition(b.get("data-position"))}.bind(this),
"click:relay([data-link])":function(a,b){var c=b.get("data-link");c&&(document.location=c)},mouseenter:this.pause.bind(this),mouseleave:this.resume.bind(this)});this.updatePositionDisplay();this.resume()},setDots:function(a){for(var b=new Element("div.carousel-dots"),c=this.element.querySelector(".carousel-dots"),d=this.options.dotStyle,e=0;e<a;e++)b.adopt(new Element("div.dot",{html:"numeric"==d?e+1:"&bull;","data-position":e}));c?b.replaces(c):this.element.adopt(b)},setMethod:function(b){if("string"==
typeOf(b)){var c=a.Carousel.Methods[b];if(void 0===c)throw Error("Carousel method is not defined: "+b);b=c}this.method=b;b.next&&(this.next=b.next);b.prev&&(this.prev=b.prev);"resize"in b&&window.addEvent("resize",b.resize.bind(this))},play:function(){this.timer||(this.timer=function(){this.setPosition(this.position+1)}.periodical(this.options.delay,this),this.fireEvent("play",{position:this.position,slide:this.slides[this.position]}))},pause:function(){this.timer&&(clearInterval(this.timer),this.timer=
null,this.fireEvent("pause",{position:this.position,slide:this.slides[this.position]}))},resume:function(){this.options.autoplay&&this.play()},setPosition:function(a,b){a%=this.limit;a!=this.position&&(this.method.go.apply(this,[a,b]),this.updatePositionDisplay(),this.fireEvent("position",{position:this.position,slide:this.slides[this.position]}))},prev:function(){this.setPosition(this.position?this.position-1:this.limit-1,-1)},next:function(){this.setPosition(this.position==this.limit?0:this.position+
1,1)},updatePositionDisplay:function(){var a=this.position,b=this.limit,c=this.positionEl,d=this.dots;c&&(c.innerHTML=this.options.positionPattern.replace(/\{(\d+)\}/g,function(c,d){switch(d){case "0":return a+1;case "1":return b}}));d&&(d.classList.remove("active"),d[a].classList.add("active"))}});a.Carousel.Methods={fade:{initialize:function(){this.slides.each(function(a,b){a.setStyles({left:0,top:0,position:"absolute",opacity:b?0:1,visibility:b?"hidden":"visible"})})},go:function(a){var b=this.slides[this.position];
this.slides[a].setStyles({opacity:0,visibility:"visible"}).inject(b,"after").fade("in");this.position=a}},slide:{initialize:function(){var a=this.view=new Element("div",{styles:{position:"absolute",left:0,top:0}});a.adopt(this.slides);a.set("tween",{property:"left",onComplete:this.method.onComplete.bind(this)});this.slides.each(function(a,b){b&&a.setStyle("display","none")});this.method.resize.apply(this);this.inner.adopt(a)},resize:function(){var a=this.inner.getSize(),b=a.x,a=a.y;this.w=b;this.h=
a;this.view.get("tween").cancel();this.view.setStyles({width:2*b,height:a});this.slides.each(function(a){a.setStyles({position:"absolute",width:b})})},go:function(a,b){var c=this.slides[a],d=this.slides[this.position],e=this.w;b||(b=a-this.position);d.setStyle("left",0<b?-e:e);c.setStyles({display:"",left:0});this.view.setStyle("left",0<b?e:-e).tween(0);this.position=a},onComplete:function(){var a=this.slides[this.position];this.slides.each(function(b){b!=a&&b.setStyle("display","none")})}},columns:{initialize:function(){this.working=
!1;var a=this.childWidth=this.fitting=0,b=0,c=0,d=this.element.getSize().x;this.view=new Element("div",{styles:{position:"absolute",top:0,left:0,height:this.element.getStyle("height")}});this.view.adopt(this.slides);this.view.inject(this.inner);this.view.set("tween",{property:"left"});this.slides.each(function(d){d.get("data-url")&&d.setStyle("cursor","pointer");var e=d.getSize().x+d.getStyle("margin-left").toInt()+d.getStyle("margin-right").toInt();d.setStyles({position:"absolute",top:0,left:a});
a+=e;b+=e;c=Math.max(c,e)},this);this.childWidth=c;this.fitting=(d/c).floor();this.view.setStyle("width",b)},go:function(a){var b=this.limit,c=this.position-a,d,e;this.working||(this.working=!0,d=0>c?this.position+this.fitting:this.position-c,0>d?d=b+d:d>b-1&&(d-=b),this.position=a=0>a?b-c:a%b,e=0>c?this.childWidth*this.fitting:-this.childWidth,this.slides[d].setStyle("left",e),this.view.get("tween").start(this.childWidth*c).chain(function(){for(var c=a,d=0,e=this.childWidth;c<b;c++,d+=e)this.slides[c].setStyle("left",
d);for(c=0;c<a;c++,d+=e)this.slides[c].setStyle("left",d);this.view.setStyle("left",0);this.working=!1}.bind(this)))},next:function(){this.setPosition(this.position+1)},prev:function(){this.setPosition(this.position-1)}}};a.register("Carousel",function(b,c){return new a.Carousel(b,c)})}.apply(b,e),void 0!==d&&(a.exports=d))}]);
